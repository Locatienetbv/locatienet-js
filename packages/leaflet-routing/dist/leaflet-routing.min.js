/*!
 * Locatienet @locatienet/leaflet-routing v1.0.12 (https://github.com/Locatienetbv/locatienet-js/tree/master/packages/leaflet-routing#readme)
 * Copyright 2021-2025 Remco Zut
 * Licensed under MIT (https://github.com/locatienetbv/locatienet-js/LICENSE)
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("leaflet")):"function"==typeof define&&define.amd?define(["leaflet"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).L)}(this,function(e){"use strict";var t,o={exports:{}};t||(t=1,function(t){var o;o=e,t.exports=function(e){return e.Control.Geocoder=e.Control.extend({options:{showResultIcons:!1,collapsed:!0,expand:"click",position:"topright",placeholder:"Search...",errorMessage:"Nothing found."},_callbackId:0,initialize:function(t){e.Util.setOptions(this,t),this.options.geocoder||(this.options.geocoder=new e.Control.Geocoder.Nominatim)},onAdd:function(t){var o,n="leaflet-control-geocoder",i=e.DomUtil.create("div",n),r=e.DomUtil.create("div","leaflet-control-geocoder-icon",i),s=this._form=e.DomUtil.create("form",n+"-form",i);return this._map=t,this._container=i,(o=this._input=e.DomUtil.create("input")).type="text",o.placeholder=this.options.placeholder,e.DomEvent.addListener(o,"keydown",this._keydown,this),this._errorElement=document.createElement("div"),this._errorElement.className=n+"-form-no-error",this._errorElement.innerHTML=this.options.errorMessage,this._alts=e.DomUtil.create("ul",n+"-alternatives leaflet-control-geocoder-alternatives-minimized"),s.appendChild(o),s.appendChild(this._errorElement),i.appendChild(this._alts),e.DomEvent.addListener(s,"submit",this._geocode,this),this.options.collapsed?"click"===this.options.expand?e.DomEvent.addListener(r,"click",function(e){0===e.button&&1===e.detail&&this._toggle()},this):(e.DomEvent.addListener(r,"mouseover",this._expand,this),e.DomEvent.addListener(r,"mouseout",this._collapse,this),this._map.on("movestart",this._collapse,this)):this._expand(),e.DomEvent.disableClickPropagation(i),i},_geocodeResult:function(t){if(e.DomUtil.removeClass(this._container,"leaflet-control-geocoder-throbber"),1===t.length)this._geocodeResultSelected(t[0]);else if(t.length>0){this._alts.innerHTML="",this._results=t,e.DomUtil.removeClass(this._alts,"leaflet-control-geocoder-alternatives-minimized");for(var o=0;o<t.length;o++)this._alts.appendChild(this._createAlt(t[o],o))}else e.DomUtil.addClass(this._errorElement,"leaflet-control-geocoder-error")},markGeocode:function(t){return this._map.fitBounds(t.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new e.Marker(t.center).bindPopup(t.html||t.name).addTo(this._map).openPopup(),this},_geocode:function(t){return e.DomEvent.preventDefault(t),e.DomUtil.addClass(this._container,"leaflet-control-geocoder-throbber"),this._clearResults(),this.options.geocoder.geocode(this._input.value,this._geocodeResult,this),!1},_geocodeResultSelected:function(e){this.options.collapsed?this._collapse():this._clearResults(),this.markGeocode(e)},_toggle:function(){this._container.className.indexOf("leaflet-control-geocoder-expanded")>=0?this._collapse():this._expand()},_expand:function(){e.DomUtil.addClass(this._container,"leaflet-control-geocoder-expanded"),this._input.select()},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-geocoder-expanded",""),e.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),e.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error")},_clearResults:function(){e.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),this._selection=null,e.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error")},_createAlt:function(t,o){var n=document.createElement("li"),i=e.DomUtil.create("a","",n),r=this.options.showResultIcons&&t.icon?e.DomUtil.create("img","",i):null,s=t.html?void 0:document.createTextNode(t.name);return r&&(r.src=t.icon),i.href="#",i.setAttribute("data-result-index",o),t.html?i.innerHTML=t.html:i.appendChild(s),e.DomEvent.addListener(n,"click",function(o){e.DomEvent.preventDefault(o),this._geocodeResultSelected(t)},this),n},_keydown:function(t){var o=this,n=function(t){o._selection&&(e.DomUtil.removeClass(o._selection.firstChild,"leaflet-control-geocoder-selected"),o._selection=o._selection[t>0?"nextSibling":"previousSibling"]),o._selection||(o._selection=o._alts[t>0?"firstChild":"lastChild"]),o._selection&&e.DomUtil.addClass(o._selection.firstChild,"leaflet-control-geocoder-selected")};switch(t.keyCode){case 27:this._collapse();break;case 38:n(-1),e.DomEvent.preventDefault(t);break;case 40:n(1),e.DomEvent.preventDefault(t);break;case 13:if(this._selection){var i=parseInt(this._selection.firstChild.getAttribute("data-result-index"),10);this._geocodeResultSelected(this._results[i]),this._clearResults(),e.DomEvent.preventDefault(t)}}return!0}}),e.Control.geocoder=function(t,o){return new e.Control.Geocoder(t,o)},e.Control.Geocoder.callbackId=0,e.Control.Geocoder.jsonp=function(t,o,n,i,r){var s="_l_geocoder_"+e.Control.Geocoder.callbackId++;o[r||"callback"]=s,window[s]=e.Util.bind(n,i);var a=document.createElement("script");a.type="text/javascript",a.src=t+e.Util.getParamString(o),a.id=s,document.getElementsByTagName("head")[0].appendChild(a)},e.Control.Geocoder.getJSON=function(t,o,n){var i=new XMLHttpRequest;i.open("GET",t+e.Util.getParamString(o),!0),i.send(null),i.onreadystatechange=function(){4==i.readyState&&(200!=i.status&&304!=req.status||n(JSON.parse(i.response)))}},e.Control.Geocoder.template=function(t,o,n){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var i=o[n];return void 0===i?i="":"function"==typeof i&&(i=i(o)),e.Control.Geocoder.htmlEscape(i)})},e.Control.Geocoder.htmlEscape=function(){var e=/[&<>"'`]/g,t=/[&<>"'`]/,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function n(e){return o[e]}return function(o){return null==o?"":o?(o=""+o,t.test(o)?o.replace(e,n):o):o+""}}(),e.Control.Geocoder.Nominatim=e.Class.extend({options:{serviceUrl:"//nominatim.openstreetmap.org/",geocodingQueryParams:{},reverseQueryParams:{},htmlTemplate:function(t){var o=t.address,n=[];return(o.road||o.building)&&n.push("{building} {road} {house_number}"),(o.city||o.town||o.village)&&n.push('<span class="'+(n.length>0?"leaflet-control-geocoder-address-detail":"")+'">{postcode} {city}{town}{village}</span>'),(o.state||o.country)&&n.push('<span class="'+(n.length>0?"leaflet-control-geocoder-address-context":"")+'">{state} {country}</span>'),e.Control.Geocoder.template(n.join("<br/>"),o,!0)}},initialize:function(t){e.Util.setOptions(this,t)},geocode:function(t,o,n){e.Control.Geocoder.jsonp(this.options.serviceUrl+"search/",e.extend({q:t,limit:5,format:"json",addressdetails:1},this.options.geocodingQueryParams),function(t){for(var i=[],r=t.length-1;r>=0;r--){for(var s=t[r].boundingbox,a=0;a<4;a++)s[a]=parseFloat(s[a]);i[r]={icon:t[r].icon,name:t[r].display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(t[r]):void 0,bbox:e.latLngBounds([s[0],s[2]],[s[1],s[3]]),center:e.latLng(t[r].lat,t[r].lon),properties:t[r]}}o.call(n,i)},this,"json_callback")},reverse:function(t,o,n,i){e.Control.Geocoder.jsonp(this.options.serviceUrl+"reverse/",e.extend({lat:t.lat,lon:t.lng,zoom:Math.round(Math.log(o/256)/Math.log(2)),addressdetails:1,format:"json"},this.options.reverseQueryParams),function(t){var o,r=[];t&&t.lat&&t.lon&&(o=e.latLng(t.lat,t.lon),r.push({name:t.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(t):void 0,center:o,bounds:e.latLngBounds(o,o),properties:t})),n.call(i,r)},this,"json_callback")}}),e.Control.Geocoder.nominatim=function(t){return new e.Control.Geocoder.Nominatim(t)},e.Control.Geocoder.Bing=e.Class.extend({initialize:function(e){this.key=e},geocode:function(t,o,n){e.Control.Geocoder.jsonp("//dev.virtualearth.net/REST/v1/Locations",{query:t,key:this.key},function(t){for(var i=[],r=t.resourceSets[0].resources.length-1;r>=0;r--){var s=t.resourceSets[0].resources[r],a=s.bbox;i[r]={name:s.name,bbox:e.latLngBounds([a[0],a[1]],[a[2],a[3]]),center:e.latLng(s.point.coordinates)}}o.call(n,i)},this,"jsonp")},reverse:function(t,o,n,i){e.Control.Geocoder.jsonp("//dev.virtualearth.net/REST/v1/Locations/"+t.lat+","+t.lng,{key:this.key},function(t){for(var o=[],r=t.resourceSets[0].resources.length-1;r>=0;r--){var s=t.resourceSets[0].resources[r],a=s.bbox;o[r]={name:s.name,bbox:e.latLngBounds([a[0],a[1]],[a[2],a[3]]),center:e.latLng(s.point.coordinates)}}n.call(i,o)},this,"jsonp")}}),e.Control.Geocoder.bing=function(t){return new e.Control.Geocoder.Bing(t)},e.Control.Geocoder.RaveGeo=e.Class.extend({options:{querySuffix:"",deepSearch:!0,wordBased:!1},jsonp:function(t,o,n){var i="_l_geocoder_"+e.Control.Geocoder.callbackId++,r=[];for(var s in t.prepend=i+"(",t.append=")",t)r.push(s+"="+escape(t[s]));window[i]=e.Util.bind(o,n);var a=document.createElement("script");a.type="text/javascript",a.src=this._serviceUrl+"?"+r.join("&"),a.id=i,document.getElementsByTagName("head")[0].appendChild(a)},initialize:function(t,o,n){e.Util.setOptions(this,n),this._serviceUrl=t,this._scheme=o},geocode:function(t,o,n){e.Control.Geocoder.jsonp(this._serviceUrl,{address:t+this.options.querySuffix,scheme:this._scheme,outputFormat:"jsonp",deepSearch:this.options.deepSearch,wordBased:this.options.wordBased},function(t){for(var i=[],r=t.length-1;r>=0;r--){var s=t[r],a=e.latLng(s.y,s.x);i[r]={name:s.address,bbox:e.latLngBounds([a]),center:a}}o.call(n,i)},this)}}),e.Control.Geocoder.raveGeo=function(t,o,n){return new e.Control.Geocoder.RaveGeo(t,o,n)},e.Control.Geocoder.MapQuest=e.Class.extend({initialize:function(e){this._key=decodeURIComponent(e)},_formatName:function(){var e,t=[];for(e=0;e<arguments.length;e++)arguments[e]&&t.push(arguments[e]);return t.join(", ")},geocode:function(t,o,n){e.Control.Geocoder.jsonp("//www.mapquestapi.com/geocoding/v1/address",{key:this._key,location:t,limit:5,outFormat:"json"},function(t){var i,r,s=[];if(t.results&&t.results[0].locations)for(var a=t.results[0].locations.length-1;a>=0;a--)i=t.results[0].locations[a],r=e.latLng(i.latLng),s[a]={name:this._formatName(i.street,i.adminArea4,i.adminArea3,i.adminArea1),bbox:e.latLngBounds(r,r),center:r};o.call(n,s)},this)},reverse:function(t,o,n,i){e.Control.Geocoder.jsonp("//www.mapquestapi.com/geocoding/v1/reverse",{key:this._key,location:t.lat+","+t.lng,outputFormat:"json"},function(t){var o,r,s=[];if(t.results&&t.results[0].locations)for(var a=t.results[0].locations.length-1;a>=0;a--)o=t.results[0].locations[a],r=e.latLng(o.latLng),s[a]={name:this._formatName(o.street,o.adminArea4,o.adminArea3,o.adminArea1),bbox:e.latLngBounds(r,r),center:r};n.call(i,s)},this)}}),e.Control.Geocoder.mapQuest=function(t){return new e.Control.Geocoder.MapQuest(t)},e.Control.Geocoder.Mapbox=e.Class.extend({options:{service_url:"https://api.tiles.mapbox.com/v4/geocode/mapbox.places-v1/"},initialize:function(e){this._access_token=e},geocode:function(t,o,n){e.Control.Geocoder.getJSON(this.options.service_url+encodeURIComponent(t)+".json",{access_token:this._access_token},function(t){var i,r,s,a=[];if(t.features&&t.features.length)for(var l=0;l<=t.features.length-1;l++)i=t.features[l],r=e.latLng(i.center.reverse()),s=i.hasOwnProperty("bbox")?e.latLngBounds(e.latLng(i.bbox.slice(0,2).reverse()),e.latLng(i.bbox.slice(2,4).reverse())):e.latLngBounds(r,r),a[l]={name:i.place_name,bbox:s,center:r};o.call(n,a)})},reverse:function(t,o,n,i){e.Control.Geocoder.getJSON(this.options.service_url+encodeURIComponent(t.lng)+","+encodeURIComponent(t.lat)+".json",{access_token:this._access_token},function(t){var o,r,s,a=[];if(t.features&&t.features.length)for(var l=0;l<=t.features.length-1;l++)o=t.features[l],r=e.latLng(o.center.reverse()),s=o.hasOwnProperty("bbox")?e.latLngBounds(e.latLng(o.bbox.slice(0,2).reverse()),e.latLng(o.bbox.slice(2,4).reverse())):e.latLngBounds(r,r),a[l]={name:o.place_name,bbox:s,center:r};n.call(i,a)})}}),e.Control.Geocoder.mapbox=function(t){return new e.Control.Geocoder.Mapbox(t)},e.Control.Geocoder.Google=e.Class.extend({options:{service_url:"https://maps.googleapis.com/maps/api/geocode/json"},initialize:function(e){this._key=e},geocode:function(t,o,n){var i={address:t};this._key&&this._key.length&&(i.key=this._key),e.Control.Geocoder.getJSON(this.options.service_url,i,function(t){var i,r,s,a=[];if(t.results&&t.results.length)for(var l=0;l<=t.results.length-1;l++)i=t.results[l],r=e.latLng(i.geometry.location),s=e.latLngBounds(e.latLng(i.geometry.viewport.northeast),e.latLng(i.geometry.viewport.southwest)),a[l]={name:i.formatted_address,bbox:s,center:r};o.call(n,a)})},reverse:function(t,o,n,i){var r={latlng:encodeURIComponent(t.lat)+","+encodeURIComponent(t.lng)};this._key&&this._key.length&&(r.key=this._key),e.Control.Geocoder.getJSON(this.options.service_url,r,function(t){var o,r,s,a=[];if(t.results&&t.results.length)for(var l=0;l<=t.results.length-1;l++)o=t.results[l],r=e.latLng(o.geometry.location),s=e.latLngBounds(e.latLng(o.geometry.viewport.northeast),e.latLng(o.geometry.viewport.southwest)),a[l]={name:o.formatted_address,bbox:s,center:r};n.call(i,a)})}}),e.Control.Geocoder.google=function(t){return new e.Control.Geocoder.Google(t)},e.Control.Geocoder}(o)}(o));var n,i={exports:{}};n||(n=1,function(t){var o;o=e,t.exports=function(e){e.Control.Geocoder.Locatienet=e.Class.extend({options:{service_url:"https://services.locatienet.com/rs/v1/Locate/"},initialize:function(e){this._apikey=e},geocode:function(t,o,n){const i={text:t,options:{language:"nl",numresults:5}};this._post(this.options.service_url+"searchByText",i,function(t){var i,r,s,a=[];if(t&&t.length)for(var l=0;l<=t.length-1;l++)i=t[l],r=e.latLng(i.coordinate.y,i.coordinate.x),s=i.hasOwnProperty("bbox")?e.latLngBounds(e.latLng(i.bbox.slice(0,2).reverse()),e.latLng(i.bbox.slice(2,4).reverse())):e.latLngBounds(r,r),a[l]={name:i.description,bbox:s,center:r};o.call(n,a)})},reverse:function(t,o,n,i){var r={coordinate:{x:t.lng,y:t.lat},options:{numresults:5}};this._post(this.options.service_url+"searchByPosition",r,function(t,o){var r,s,a,l=[];if(o&&o.length)for(var c=0;c<=o.length-1;c++)r=o[c],s=e.latLng(r.coordinate.y,r.coordinate.x),a=r.hasOwnProperty("bbox")?e.latLngBounds(e.latLng(r.bbox.slice(0,2).reverse()),e.latLng(r.bbox.slice(2,4).reverse())):e.latLngBounds(s,s),l[c]={name:r.description,bbox:a,center:s};n.call(i,l)})},_post:function(e,t,o){fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-API-KEY":this._apikey},body:JSON.stringify(t)}).then(e=>e.json()).then(e=>o(null,e))}}),e.Control.Geocoder.locatienet=function(t){return new e.Control.Geocoder.Locatienet(t)}}(o)}(i));var r,s={exports:{}};r||(r=1,function(t){var o;o=e,t.exports=function(o){(o=e).Routing=o.Routing||{},o.Routing.Locatienet=o.Evented.extend({options:{serviceUrl:"https://services.locatienet.com/rs/v1/Route/calculateRouteDescription",timeout:3e4,urlParameters:{}},initialize:function(e,t){this._apikey=e,o.Util.setOptions(this,t)},route:function(e,t,n,i){var r,s,a,l,c=!1,d=[];for(i=i||{},r=this.buildRouteRequest(e,i),s=setTimeout(function(){c=!0,t.call(n||t,{status:-1,message:"Locatienet request timed out."})},this.options.timeout),l=0;l<e.length;l++)a=e[l],d.push({latLng:a.latLng,name:a.name,options:a.options});return this._post(this.options.serviceUrl,r,o.bind(function(e,o){if(clearTimeout(s),!c)if(this.fire("response",{}),e){var i,r=e&&e.responseText;try{i=JSON.parse(r)}catch(e){i=r}t.call(n||t,{status:-1,message:"HTTP request failed: "+e,response:i})}else this._routeDone(o,d,t,n)},this)),this},_routeDone:function(e,t,o,n){var i,r,s,a=[];n=n||o,s=e,r=this._decodePolyline(s.polyline),i=this._mapWaypointIndices(t,s.descriptions,r),a.push({name:"",coordinates:r,instructions:this._convertInstructions(s.descriptions,r),summary:{totalDistance:s.distance,totalTime:s.travelTime,totalAscend:0},inputWaypoints:t,actualWaypoints:i.waypoints,waypointIndices:i.waypointIndices}),o.call(n,null,a)},_decodePolyline:function(e){var t,n=new Array(e.length);for(t=0;t<e.length;t++)n[t]=new o.LatLng(e[t].y,e[t].x);return n},_toWaypoints:function(e,t){var n,i=[];for(n=0;n<t.length;n++)i.push({latLng:o.latLng(t[n]),name:e[n].name,options:e[n].options});return i},buildRouteRequest:function(e,t){for(var o={locations:[],options:{vehicle:"carfast",optimization:"optimal",language:"nl",includePolyline:!0}},n=0;n<e.length;n++)o.locations.push({coordinate:{x:e[n].latLng.lng,y:e[n].latLng.lat}});return o},_convertInstructions:function(e,t){var o,n,i,r={TURNHALFLEFT:"SlightLeft",TURNSHARPLEFT:"SharpLeft",TURNLEFT:"Left",CONTINUE:"Straight",TURNHALFRIGHT:"SlightRight",TURNRIGHT:"Right",TURNSHARPRIGHT:"SharpRight",ARRIVELEFT:"DestinationReached",ARRIVERIGHT:"DestinationReached",TAKEROUNDABOUTRIGHT:"Roundabout",TAKEROUNDABOUTLEFT:"Roundabout"},s=[];for(n=0;e&&n<e.length;n++)(i=e[n]).description&&(o=0===s.length?"Head":n<e.length-2&&["ARRIVELEFT","ARRIVERIGHT"].includes(i.maneuverType)?"WaypointReached":r[i.maneuverType],s.push({type:o,modifier:o,text:i.description,distance:i.accDistance,time:i.accTime,index:t.findIndex(e=>e.lat==i.coordinate.y&&e.lng==i.coordinate.x),exit:0}));return s},_mapWaypointIndices:function(e,t,o){var n,i,r=[],s=[];for(n=0;t&&n<t.length;n++)"WAYPOINT"===t[n].event&&(i=o.findIndex(e=>e.lat==t[n].coordinate.y&&e.lng==t[n].coordinate.x),s.push(i),r.push({latLng:o[i],name:e[r.length].name}));return{waypointIndices:s,waypoints:r}},_post:function(e,t,o){fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-API-KEY":this._apikey},body:JSON.stringify(t)}).then(e=>e.json()).then(e=>o(null,e))}}),o.Routing.locatienet=function(e,t){return new o.Routing.Locatienet(e,t)},t.exports=o.Routing.Locatienet}(o)}(s))});
//# sourceMappingURL=leaflet-routing.min.js.map
